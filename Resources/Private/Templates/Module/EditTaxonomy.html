{namespace neos=Neos\Neos\ViewHelpers}
<f:layout name="BackendSubModule" />

<f:section name="content">

    <div class="neos-row-fluid">
        <div class="neos-span6">
            <legend>{f:translate(id: 'taxon')}: {taxonomy.properties.title}</legend>
        </div>
        <f:if condition="{defaultTaxonomy}">
            <div class="neos-span6">
                <legend>{f:translate(id: 'generic.default')}: {defaultTaxonomy.properties.title}</legend>
            </div>
        </f:if>
    </div>

    <f:form action="updateTaxonomy">
        <fieldset>

            <f:form.hidden name="taxonomy" value="{taxonomy.contextPath}" />

            <label class="neos-control-label" for="title">{f:translate(id: 'properties.title', source: 'NodeTypes/Taxonomy')}</label>
            <div class="neos-row-fluid">
                <div class="neos-span6">
                    <div class="neos-control-group">
                        <f:form.textfield name="title" class="neos-span12" id="title" value="{taxonomy.properties.title}"/>
                    </div>
                </div>
                <f:if condition="{defaultTaxonomy}">
                    <div class="neos-span6">
                        <input type="text" class="neos-span12" value="{defaultTaxonomy.properties.title}" readonly />
                    </div>
                </f:if>
            </div>

            <label class="neos-control-label" for="description">{f:translate(id: 'properties.description', source: 'NodeTypes/Taxonomy')}</label>

            <div class="neos-row-fluid">
                <div class="neos-span6">
                    <div class="neos-control-group">
                        <f:form.textarea name="description" class="neos-span12"  id="description" value="{taxonomy.properties.description}"/>
                    </div>
                </div>
                <f:if condition="{defaultTaxonomy}">
                    <div class="neos-span6">
                        <input type="text" class="neos-span12" value="{defaultTaxonomy.properties.description}" readonly />
                    </div>
                </f:if>
            </div>

            <label class="neos-control-label">{f:translate(id: 'ui.nodes', source: 'NodeTypes/Taxonomy')}</label>

            <div class="neos-row-fluid">
                <div class="neos-span6">
                    <ul class="nodelist">
                        <f:for each="{nodes}" as="node">
                            <li>
                                <a href="/neos/content?node={node.contextPath}" target="_blank">
                                    {node.label}
                                </a>
                            </li>
                        </f:for>
                    </ul>
                </div>
            </div>

            <f:link.action class="neos-button" action="vocabulary" arguments="{vocabulary: vocabulary}">{f:translate(id: 'generic.cancel')}</f:link.action>
            <f:form.submit value="{f:translate(id: 'generic.save')}" class="neos-button neos-button-primary" />
        </fieldset>
    </f:form>
    <style>
        .neos ul.nodelist {
            list-style: disc inside none;
            margin-bottom: 10px;
            padding: 1px 0 1px 20px;
        }
        .neos ul.nodelist li {
            list-style: inherit;
            margin: 8px 0;
        }
        .neos ul.nodelist li a:hover {
            text-decoration: underline;
        }
    </style>
</f:section>
